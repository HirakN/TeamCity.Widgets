<!--
  ~ Copyright 2000-2015 JetBrains s.r.o.
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~ http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->
<link rel="import" href="tree-node.html">
<link rel="import" href="expanded-behavior.html">
<link rel="import" href="../bower_components/iron-list/iron-list.html">
<dom-module id="tree-view">
    <style>
        .subTree{
            padding-left: 15px;
            display: none;
        }
        :host(.expanded) > .subTree{
           display: block;
        }
        iron-list {
            height: 100%;
        }
    </style>
    <template>
        <tree-node data="{{data}}" is-expanded="{{isExpanded}}"></tree-node>
        <!--<iron-list items="[[data.children]]" as="item">
            <template>
                <div class="subTree">
                    <tree-view data="{{item}}"></tree-view>
                </div>
             </template>
        </iron-list>-->
        <template is="dom-if" if="{{isExpanded}}">
            <template is="dom-repeat" items="{{data.children}}">
                <div class="subTree">
                    <tree-view data="{{item}}"></tree-view>
                </div>
            </template>
        </template>
    </template>
    <script>
        Polymer({
            is: "tree-view",
            properties: {
                data:{
                    type: Object,
                    notify: true,
                    observer: "_dataChanged"
                }
            },
            behaviors: [ExpandedBehavior]
        });
    </script>
</dom-module>